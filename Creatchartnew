代码正文
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Windows.Forms.DataVisualization.Charting;


namespace WindowsFormsApplication30
{
    public partial class JIANKForm : Form
    {
        private Queue<double> dataQueue = new Queue<double>(100);

        private int curValue = 0;

        private int num = 5;//每次删除增加几个点

   
        public JIANKForm()
        {
            InitializeComponent();
            Size newsize = new Size(1000, 500);
            this.Size = newsize;

        }

        private void JIANKForm_Load(object sender, EventArgs e)
        {

        }

        private void button1_Click(object sender, EventArgs e)
        {
            InitChart();
        }

        private void button3_Click(object sender, EventArgs e)
        {
            this.timer1.Start();
        }

        private void button4_Click(object sender, EventArgs e)
        {
            this.timer1.Stop();
        }

        private void timer1_Tick(object sender, EventArgs e)
        {
            UpdateQueueValue();
            this.chart12.Series[0].Points.Clear();
            for (int i = 0; i < dataQueue.Count; i++)
            {
                this.chart12.Series[0].Points.AddXY((i + 1), dataQueue.ElementAt(i));
            }

        }

        private void InitChart()
        {
            //定义图表区域
            this.chart12.ChartAreas.Clear();//清空区域中所有图表
            ChartArea chartArea1 = new ChartArea("ATDS"); //创建图表区域ATDS，将前面创建的对象加入到自己所属的父实体中
            this.chart12.ChartAreas.Add(chartArea1);//将ATDS图域属性匹配给Chart12，将前面创建的对象加入到自己所属的父实体中
            //定义存储和显示点的容器
            this.chart12.Series.Clear();
            Series series1 = new Series("实时曲线");//创建Series1曲线条，图示名称
            Series series2 = new Series("样式2");//创建Series2曲线条，图示名称
            series1.ChartArea = "ATDS";//将Series1曲线条属性匹配给ATDS图域，将前面创建的对象加入到自己所属的父实体中
            series2.ChartArea = "ATDS";//将Series2曲线条属性匹配给ATDS图域，将前面创建的对象加入到自己所属的父实体中
            this.chart12.Series.Add(series1);//将Series1曲线条属性匹配给Chart12曲线属性
            this.chart12.Series.Add(series2);



//设置图表显示样式

            series1.ChartType = System.Windows.Forms.DataVisualization.Charting.SeriesChartType.Column;//设置图表的类型(饼状、线状等等)
            this.chart12.ChartAreas[0].AxisY.Minimum = 0;//
            this.chart12.ChartAreas[0].AxisY.Maximum = 100;//
            this.chart12.ChartAreas[0].AxisX.Interval = 5;//
            this.chart12.ChartAreas[0].AxisX.MajorGrid.LineColor = System.Drawing.Color.Silver;//
            this.chart12.ChartAreas[0].AxisY.MajorGrid.LineColor = System.Drawing.Color.Silver;//
            //设置标题
            this.chart12.Titles.Clear();//清除区域中标题
            this.chart12.Titles.Add("实时曲线");
            this.chart12.Titles[0].Text = "";            //图表主（正）标题
            
            this.chart12.Titles[0].ForeColor = Color.Black;//标题颜色RoyalBlue灰蓝
            this.chart12.Titles[0].Font = new System.Drawing.Font("Microsoft Sans Serif",15F);//标题字体大小
            
            //设置图表显示样式
            this.chart12.Series[0].Color = Color.Green;//曲线series1的颜色为绿色，也可以用this.chart12.Series["Series2"].Color =
                                                              //System.Drawing.Color.Red;//设置颜色
       
            this.chart12.Series[1].Color = Color.Red;//曲线series2的颜色为绿色
            this.chart12.Series[0].BorderWidth = 3;//曲线series1的宽度
            this.chart12.Series[1].BorderWidth = 3;//曲线series2的宽度
            if (radioB1.Checked)
            {
                this.chart12.Titles[0].Text = string.Format("温度和湿度实时检测数据（手动模式）", radioB1.Text);
                this.chart12.Series[0].ChartType = SeriesChartType.Line;
            }
            if (radioB2.Checked)
            {
                this.chart12.Titles[0].Text = string.Format("温度和湿度实时检测数据（自动模式）", radioB1.Text);
                this.chart12.Series[0].ChartType = SeriesChartType.Line;
            }
            this.chart12.Series[0].Points.Clear();
        }



4444444444444444444444444444444444444666666666666666666666666666666666666
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Windows.Forms.DataVisualization.Charting;


namespace WindowsFormsApplication30
{
    public partial class JIANKForm : Form
    {
        private Queue<double> dataQueue = new Queue<double>(100);

        private int curValue = 0;

        private int num = 5;//每次删除增加几个点


        public JIANKForm()
        {
            InitializeComponent();
            Size newsize = new Size(1000, 500);
            this.Size = newsize;

        }

        private void JIANKForm_Load(object sender, EventArgs e)
        {

        }

        private void button1_Click(object sender, EventArgs e)
        {
            InitChart();


        }


        private void button3_Click(object sender, EventArgs e)
        {

            this.timer1.Start();
            this.button1.Enabled = false;
        }

        private void button4_Click(object sender, EventArgs e)
        {
            this.timer1.Stop();
            this.button1.Enabled = true;
        }

        private void timer1_Tick(object sender, EventArgs e)
        {
            UpdateQueueValue();
           
            this.chart12.Series[0].Points.Clear();
            Random Ra = new Random();
            for (int i = 0; i < dataQueue.Count; i++)
            {
                int a = int.Parse(System.DateTime.Now.ToString("ddHHmm"));
                if (a >= 60)
                {
                    a = a - 60;
                    //this.chart2.Series[0].Points.AddXY((a),dataQueue.ElementAt(i));
                    this.chart12.Series[0].Points.AddXY((i + a), Ra.Next(1, 100));



                }
            }




        }

        private void InitChart()
        {
            //定义图表区域
            this.chart12.ChartAreas.Clear();//清空区域中所有图表
            ChartArea chartArea1 = new ChartArea("ATDS"); //创建图表区域ATDS，将前面创建的对象加入到自己所属的父实体中
            this.chart12.ChartAreas.Add(chartArea1);//将ATDS图域属性匹配给Chart12，将前面创建的对象加入到自己所属的父实体中
            //定义存储和显示点的容器
            this.chart12.Series.Clear();
            Series series1 = new Series("实时曲线");//创建Series1曲线条，图示名称
            Series series2 = new Series("样式2");//创建Series2曲线条，图示名称
            series1.ChartArea = "ATDS";//将Series1曲线条属性匹配给ATDS图域，将前面创建的对象加入到自己所属的父实体中
            series2.ChartArea = "ATDS";//将Series2曲线条属性匹配给ATDS图域，将前面创建的对象加入到自己所属的父实体中
            this.chart12.Series.Add(series1);//将Series1曲线条属性匹配给Chart12曲线属性
            this.chart12.Series.Add(series2);
            //设置图表显示样式

            series1.ChartType = System.Windows.Forms.DataVisualization.Charting.SeriesChartType.Column;//设置图表的类型(饼状、线状等等)
            this.chart12.ChartAreas[0].AxisY.Minimum = 0;//Y轴起始值
            this.chart12.ChartAreas[0].AxisY.Maximum = 120;//Y轴最大值
            this.chart12.ChartAreas[0].AxisX.Interval = 5;//X轴间距
            this.chart12.ChartAreas[0].AxisX.MajorGrid.LineColor = System.Drawing.Color.Silver;//
            this.chart12.ChartAreas[0].AxisY.MajorGrid.LineColor = System.Drawing.Color.Silver;//
            //this.chart12.ChartAreas[0].AxisX.MinorGrid.LineColor = System.Drawing.Color.Silver;图像内网格线颜色
            //this.chart12.ChartAreas[0].AxisY.MajorGrid.LineColor = System.Drawing.Color.Silver;
            //this.chart12.ChartAreas[0].AxisX.Interval = 10;//图标X轴间距数量
            //this.chart12.Titles[0].Text = "XXX显示"; //图标主标题
            //this.chart12.ChartAreas[0].AxisX.Title = "hhkh";//图标X轴标题

            //设置标题
            this.chart12.Titles.Clear();//清除区域中标题
            this.chart12.Titles.Add("实时曲线");
            this.chart12.Titles[0].Text = "";            //图表主（正）标题

            this.chart12.Titles[0].ForeColor = Color.Black;//标题颜色RoyalBlue灰蓝
            this.chart12.Titles[0].Font = new System.Drawing.Font("Microsoft Sans Serif", 15F);//标题字体大小

            //设置图表显示样式
            this.chart12.Series[0].Color = Color.Green;//曲线series1的颜色为绿色，也可以用this.chart12.Series["Series2"].Color =
                                                       //System.Drawing.Color.Red;//设置颜色

            this.chart12.Series[1].Color = Color.Red;//曲线series2的颜色为绿色
            this.chart12.Series[0].BorderWidth = 3;//曲线series1的宽度
            this.chart12.Series[1].BorderWidth = 3;//曲线series2的宽度
            if (radioB1.Checked)
            {
                this.chart12.Titles[0].Text = string.Format("温度和湿度实时检测数据（手动模式）", radioB1.Text);
                this.chart12.Series[0].ChartType = SeriesChartType.Line;
            }
            if (radioB2.Checked)
            {
                this.chart12.Titles[0].Text = string.Format("温度和湿度实时检测数据（自动模式）", radioB2.Text);
                this.chart12.Series[0].ChartType = SeriesChartType.Line;
            }
            this.chart12.Series[0].Points.Clear();
        }

        private void UpdateQueueValue()
        {

            if (dataQueue.Count > 100)
            {
                //先出列
                for (int i = 0; i < num; i++)
                {
                    dataQueue.Dequeue();
                }
            }
            if (radioB2.Checked)
            {
                Random r = new Random();
                for (int i = 0; i < num; i++)
                {
                    dataQueue.Enqueue(r.Next(0, 100));
                }



            }
        }

      
        private void radioB1_CheckedChanged(object sender, EventArgs e)
        {
            
        }

        private void button5_Click(object sender, EventArgs e)
        {
            this.Close();
        }

        private void button5_Click_1(object sender, EventArgs e)
        {
            this.Close();
        }

        private void radioB2_CheckedChanged(object sender, EventArgs e)
        {
            this.button1.Enabled = true;
        }




      
    }
  }















